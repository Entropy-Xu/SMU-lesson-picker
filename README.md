# SMU-lesson-picker (上海海事大学选课助手)

这是一个为上海海事大学学生开发的选课辅助工具，帮助学生在选课系统开放时能够更快速地抢到心仪的课程。

## 功能介绍

- 自动登录上海海事大学教务系统
- 查询并选择可用的选课轮次
- 支持单课程和多课程同时抢课
- 可自定义重试间隔和最大尝试次数
- 自动识别选课失败原因并给出友好提示
- 详细的日志记录，便于追踪抢课过程

## 环境要求

- Python 3.6 或以上版本
- 依赖库：requests, bs4 (BeautifulSoup4), logging

## 安装步骤

1. 克隆或下载此仓库到本地
2. 安装所需依赖：
   ```
   pip install requests beautifulsoup4
   ```

## 使用方法

1. 在终端运行主程序：
   ```
   python main.py
   ```

2. 根据提示输入您的学号和密码（密码输入时不会显示在屏幕上）

3. 输入验证码（程序会自动将验证码图片保存为当前目录下的`captcha.jpg`文件）

4. 输入想要抢的课程ID（可以在教务系统选课页面查看，多个课程ID请用英文逗号分隔）

5. 设置抢课参数：
   - 重试间隔（单位：秒，默认为1秒）
   - 最大尝试次数（默认为100次）

6. 选择当前可用的选课轮次

7. 程序开始自动抢课，并实时显示抢课进度和结果

## 示例

```
请输入学号: 202012345
请输入密码: 
验证码已保存至captcha.jpg，请查看并输入
请输入验证码: abcd

请输入要抢的课程ID（多个ID以逗号分隔）: 123456, 789012
请输入重试间隔（秒，默认1秒）: 1
请输入最大尝试次数（默认100）: 50

可用的选课轮次:
1. 2025-2026学年第一学期 本科生选课 (ID: 9876)
2. 2024-2025学年第二学期 重修选课 (ID: 5432)

请选择要进行的选课类型 (输入序号): 1
已选择: 2025-2026学年第一学期 本科生选课 (ID: 9876)
开始抢课，目标课程: ['123456', '789012']
第 1/50 次尝试
...
```

## 常见问题

1. **验证码无法识别？**
   - 确保验证码图片已保存在程序运行目录下的`captcha.jpg`
   - 请手动查看该图片并输入验证码

2. **登录失败？**
   - 检查学号和密码是否正确
   - 验证码可能输入错误，请重新运行程序尝试

3. **选课失败？**
   - 课程可能已经满员
   - 可能存在时间冲突
   - 可能不满足课程先修要求
   - 查看程序输出的具体错误信息

4. **程序报错？**
   - 检查网络连接是否正常
   - 查看`course_sniper.log`日志文件了解详细错误信息

## 注意事项

- 本程序仅供学习交流使用，请合理使用，避免频繁请求对服务器造成负担
- 请保护好个人账号信息，不要在公共电脑上保存账号密码
- 选课成功后建议登录教务系统确认选课结果
- 程序运行过程中会生成日志文件`course_sniper.log`，记录详细的运行信息和错误

## 日志查看

程序会自动在运行目录下生成`course_sniper.log`日志文件，包含详细的运行记录。如遇到问题，可查看此日志文件进行排查。

## 免责声明

本程序仅作为技术学习和个人使用工具，使用者应遵守学校相关规定。因使用本工具产生的任何问题，开发者不承担任何责任。
